{% extends "layout.html" %}

{% block title %}Login{% endblock %}

{% block content %}
<!-- Login Card Container -->
    <div class="signup-card mx-auto mt-5">

    <!-- Heading -->
        <h2>Login</h2>

    <!-- Login Form -->
        <form method="POST" action="{{ url_for('login') }}">

        <!-- Username Input -->
            <div class="mb-3 position-relative">
                <input type="text" name="username" placeholder="Username" class="form-control" required>
            </div>

        <!-- Password Input with toggle visibility -->
            <div class="mb-3 position-relative">
                <input type="password" class="form-control" id="password" name="password" placeholder="Password" required>
            <!-- Eye icon to toggle password visibility -->
                <i class="fa-solid fa-eye me-3" onclick="togglePassword('password', this)" style="cursor: pointer; position: absolute; right: 10px; top: 50%; transform: translateY(-50%);">
                </i>
            </div>

        <!-- Submit Button -->
            <button type="submit" class="btn btn-custom form-control">Login</button>
        </form>

    <!-- Forget password link -->
        <a href="{{ url_for('forget_password') }}">Forget password?</a>
    </div>

<!-- Password toggle script -->
    <script>
    /**
     * togglePassword
     * Toggles password field visibility on click
     * @param {string} id - The ID of the password input field
     * @param {HTMLElement} icon - The eye icon element clicked
     */
        function togglePassword(id, icon) {
            const passwordInput = document.getElementById(id);
            if (passwordInput.type === "password") {
                passwordInput.type = "text";
                icon.classList.remove("fa-eye");
                icon.classList.add("fa-eye-slash");
            } else {
                passwordInput.type = "password";
                icon.classList.remove("fa-eye-slash");
                icon.classList.add("fa-eye");
            }
        }
    </script>
{% endblock %}
